<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="我是你皇叔">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="我是你皇叔">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我是你皇叔">



  <link rel="alternate" href="/atom.xml" title="我是你皇叔" type="application/atom+xml">



  
  
  <link rel="canonical" href="http://yoursite.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>我是你皇叔</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">我是你皇叔</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/16/Python机器学习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="皇叔">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我是你皇叔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/16/Python机器学习/" class="post-title-link" itemprop="url">Python机器学习</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-16 20:09:27" itemprop="dateCreated datePublished" datetime="2019-10-16T20:09:27+08:00">2019-10-16</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/16/Oracle Install/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="皇叔">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我是你皇叔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/16/Oracle Install/" class="post-title-link" itemprop="url">一发入魂——小白在Ubuntu16环境下部署Oracle服务器并使用Windows客户端连接</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-16 15:24:47" itemprop="dateCreated datePublished" datetime="2019-10-16T15:24:47+08:00">2019-10-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-20 18:10:14" itemprop="dateModified" datetime="2019-04-20T18:10:14+08:00">2019-04-20</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="一发入魂——小白在Ubuntu16环境下部署Oracle服务器并使用Windows客户端连接"><a href="#一发入魂——小白在Ubuntu16环境下部署Oracle服务器并使用Windows客户端连接" class="headerlink" title="一发入魂——小白在Ubuntu16环境下部署Oracle服务器并使用Windows客户端连接"></a><strong>一发入魂——小白在Ubuntu16环境下部署Oracle服务器并使用Windows客户端连接</strong></h1><h1 id="1-学习几个基本Linux终端指令"><a href="#1-学习几个基本Linux终端指令" class="headerlink" title="1.学习几个基本Linux终端指令"></a>1.学习几个基本Linux终端指令</h1><p>　　由于Linux和Windows的软件安装方式有很大的不同，所以基本上都是需要在终端上敲命令行代码实现的。<br>　　一、cd（change directory）切换目录<br>　　<code>$cd　　　　　直接回到根目录</code><br>　　<code>$cd ..　　　　回到上级目录</code><br>　　<code>$cd 路径名　　切换至该路径</code><br>　　二、ls　查看文件或目录<br>　　<code>$ls　　　　　查看当前目录的文件与目录</code><br>　　<code>$cd 路径名　　查看该路径下的文件与目录</code><br>　　ls命令常用于检查目录下的文件及目录。这样我们就不用费力地去找文件管理器下的文件而是可以直接在终端中查看。当我们不确定自己创建的目录是否成功时可以轻松地使用ls查看。<br>　　三、su 和 sudo<br>　　有些时候一些指令需要我们拥有管理员权限方能执行，这个时候这两个指令就非常重要。<br>　　<code>su</code><br>　　进入root模式。su命令执行后，你需要在终端输入root密码，在终端中，密码是不显示的，输完直接敲回车即可。这是系统root用户，拥有很高的权限。值得注意的是，Ubuntu刚安装好是没有激活root的，需要我们手动激活。这时我们需要sudo指令。<br>　　<code>sudo</code><br>　　在指令的前面加上sudo 即可在管理员模式下执行指令。当然，密码还是要输的，这里输的密码是你的系统用户密码（开机密码）而不是root密码。<br>　　<code>sudo passwd root</code><br>　　执行该指令即可设定root密码。<br>　　四、vim 文档编辑<br>　　这个指令我们会在环境变量及配置文档的修改编辑中遇到。系统没有的话可以通过指令安装<br>　　<code>sudo apt-get install vim</code><br>　　安装好之后使用指令<code>sudo vim xxx</code>进入xxx文件。键盘敲击’i’即可进入insert模式。编辑完毕后按’esc’,在键盘上输入 <strong>‘:wq’</strong> 保存并退出。记住一定要加’冒号‘。不想保存的话用’:q’。</p>
<h1 id="2-安装JDK并配置环境变量"><a href="#2-安装JDK并配置环境变量" class="headerlink" title="2.安装JDK并配置环境变量"></a>2.安装JDK并配置环境变量</h1><p>　　由于Oracle是基于Java环境的数据库，所以必须要配置JDK方可运行。我们首先打开终端。<br>　　一、JDK安装<br>　　依次执行如下指令<br>　　<code>sudo apt-get update</code><br>　　<code>sudo apt-get install openjdk-8-jdk</code><br>　　这里安装的是JDK8，大家可以根据实际情况选用所需的JDK版本。<br>　　二、JDK环境变量的配置<br>　　通过指令<br>　　<code>sudo vim /etc/profile</code><br>　　打开profile文件，此文件存储Linux中的各种环境变量，后面的Oracle环境变量也将在此编辑。敲击’i’在文件末尾加入以下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</span><br><span class="line"></span><br><span class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class="line"></span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</span><br><span class="line"></span><br><span class="line">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure></p>
<p>如何保存并退出在上一章节已经有提到，以后章节不再赘述。保存完毕后我们先要更新一下系统参数<code>source /etc/profile</code>在终端测试一下是否安装成功。依次输入指令。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo %JAVA_HOME   </span><br><span class="line">java -version</span><br></pre></td></tr></table></figure></p>
<p>若出现我们添加进profile文件中的路径以及正确的java版本号则安装成功。若未出现，可能你需要检查一下profile文件或者java安装包。</p>
<h1 id="3-Oracle安装"><a href="#3-Oracle安装" class="headerlink" title="3.Oracle安装"></a>3.Oracle安装</h1><p>在进行各种依赖的下载还有乱七八糟的事之前，我们先把Oracle的安装包下载任务开始起来，这样就不需要多等一段时间了。Oracle11g的安装包在官网很容易找到，注意一定要将两个压缩包全部下载下来。最好还能定点下载到一个<strong>指定的目录</strong>里。本人就是将其下载至主文件夹下的<strong>Oracle</strong>文件夹下。这样方便后续的操作。  </p>
<h2 id="一、依赖包的安装"><a href="#一、依赖包的安装" class="headerlink" title="一、依赖包的安装"></a>一、依赖包的安装</h2><p>　　Linux不同于Windows，这些东西都需要我们自己手动去安装。要装的东西多的要死，笔者参考了一下网上的代码，来自Linux社区的rogear将其整合了一下，通过一句指令安装所有的依赖包。 因为包太多了，所以安装起来要稍微等一会儿。<br><code>sudo apt-get -y install automake autotools-dev binutils bzip2 elfutils expat gawk gcc gcc-multilib g++-multilib lib32ncurses5 lib32z1 ksh less lib32z1 libaio1 libaio-dev libc6-dev libc6-dev-i386 libc6-i386 libelf-dev libltdl-dev libxm4 libodbcinstq4-1 libodbcinstq4-1:i386 libpth-dev libpthread-stubs0-dev libstdc++5 make openssh-server rlwrap rpm sysstat unixodbc unixodbc-dev unzip x11-utils zlibc</code><br>　　笔者亲测没有问题，要问为什么，因为我也是小白！有两个依赖是32位的，需要换源安装。也不是太麻烦，依次执行以下指令即可。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line"></span><br><span class="line">cd /etc/apt/sources.list.d</span><br><span class="line"></span><br><span class="line">echo &quot;deb http://old-releases.ubuntu.com/ubuntu/ raring main restricted universe multiverse&quot; &gt; ia32-libs-raring.list</span><br><span class="line"></span><br><span class="line">apt update</span><br><span class="line"></span><br><span class="line">apt-get -y install lesstif2 lesstif2-dev</span><br><span class="line"></span><br><span class="line">rm -rf ia32-libs-raring.list</span><br><span class="line"></span><br><span class="line">apt update</span><br><span class="line"></span><br><span class="line">exit</span><br></pre></td></tr></table></figure></p>
<p>　　如果出现什么问题，那就将前两步调换一下位置。Linux中的依赖包有的是相互依赖的，笔者小白一枚也没搞清楚。  </p>
<h2 id="二、配置环境"><a href="#二、配置环境" class="headerlink" title="二、配置环境"></a>二、配置环境</h2><p>　　这里我们可以直接开两个终端来配，查一个配一个比较方便。<br>　　新建一个终端键入指令<code>sudo vim /etc/sysctl.conf</code>。<br>　　原终端按下列指令依次查出对应参数的值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/sbin/sysctl -a | grep sem</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep file-max</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep aio-max</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep ip_local_port_range</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep rmem_default</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep rmem_max</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep wmem_default</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep wmem_max</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep shmall</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep shmmax</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep shmmni</span><br></pre></td></tr></table></figure></p>
<p>　　再将值填入对应的参数中并添加至新终端的’sysctl.conf’的末尾并保存退出。　　<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">fs.aio-max-nr = 65536</span><br><span class="line"></span><br><span class="line">fs.file-max = 242293</span><br><span class="line"></span><br><span class="line">kernel.shmall = 18446744073692774399</span><br><span class="line"></span><br><span class="line">kernel.shmmax = 18446744073692774399</span><br><span class="line"></span><br><span class="line">kernel.shmmni = 4096</span><br><span class="line"></span><br><span class="line">kernel.sem = 32000 1024000000 500 32000</span><br><span class="line"></span><br><span class="line">net.ipv4.ip_local_port_range = 32768 60999</span><br><span class="line"></span><br><span class="line">net.core.rmem_default = 212992</span><br><span class="line"></span><br><span class="line">net.core.rmem_max = 212992</span><br><span class="line"></span><br><span class="line">net.core.wmem_default = 212992</span><br><span class="line"></span><br><span class="line">net.core.wmem_max = 212992</span><br></pre></td></tr></table></figure></p>
<p>更新内核参数<code>sysctl -p</code>。<br>添加用户的内核限制<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd </span><br><span class="line">cd /etc/security</span><br><span class="line">sudo vim limits.conf</span><br></pre></td></tr></table></figure></p>
<p>添加以下内容至文件末尾（’end of file’后）。用户名就是你登录Ubuntu的用户名，比如我的是njust。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">用户名 soft nproc 2047</span><br><span class="line"></span><br><span class="line">用户名 hard nproc 16384</span><br><span class="line"></span><br><span class="line">用户名 soft nofile 1024</span><br><span class="line"></span><br><span class="line">用户名 hard nofile 65536</span><br><span class="line"></span><br><span class="line">用户名 soft stack 10240</span><br></pre></td></tr></table></figure></p>
<p>　　现在我们要配置Oracle的环境变量。<code>sudo vim /etc/profile</code>  。将下列内容添加至文件后面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">export ORACLE_BASE=你的Oracle路径,笔者是/home/njust/Oracle</span><br><span class="line"></span><br><span class="line">export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/dbhome_1</span><br><span class="line"></span><br><span class="line">export ORACLE_SID=orcl</span><br><span class="line"></span><br><span class="line">export ORACLE_UNQNAME=orcl</span><br><span class="line"></span><br><span class="line">export NLS_LANG=.AL32UTF8</span><br><span class="line"></span><br><span class="line">export PATH=$&#123;PATH&#125;:$&#123;ORACLE_HOME&#125;/bin/:$ORACLE_HOME/lib64</span><br></pre></td></tr></table></figure></p>
<p>保存并退出后更新一下环境变量<code>source /etc/profile</code>。<br>　　最好检查一下/etc/pam.d/login，增加以下行（有了就不用增加了）： session required pam_limits.so。<br>　　检查/etc/pam.d/su，没有以下行就自己加上： session required pam_limits.so。<br>　　由于Oracle默认不支持Ubuntu，所以我们需要通过以下命令欺骗一下Oracle安装程序。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /usr/lib64</span><br><span class="line"></span><br><span class="line">sudo ln -s /etc /etc/rc.d</span><br><span class="line"></span><br><span class="line">sudo ln -s /lib/x86_64-linux-gnu/libgcc_s.so.1 /lib64/</span><br><span class="line"></span><br><span class="line">sudo ln -s /usr/bin/awk /bin/awk</span><br><span class="line"></span><br><span class="line">sudo ln -s /usr/bin/basename /bin/basename</span><br><span class="line"></span><br><span class="line">sudo ln -s /usr/bin/rpm /bin/rpm</span><br><span class="line"></span><br><span class="line">sudo ln -s /usr/lib/x86_64-linux-gnu/libc_nonshared.a /usr/lib64/</span><br><span class="line"></span><br><span class="line">sudo ln -s /usr/lib/x86_64-linux-gnu/libpthread_nonshared.a /usr/lib64/</span><br><span class="line"></span><br><span class="line">sudo ln -s /usr/lib/x86_64-linux-gnu/libstdc++.so.6 /lib64/</span><br><span class="line"></span><br><span class="line">sudo ln -s /usr/lib/x86_64-linux-gnu/libstdc++.so.6 /usr/lib64/</span><br><span class="line"></span><br><span class="line">su</span><br><span class="line"></span><br><span class="line">echo &apos;Red Hat Linux release 5&apos; &gt; /etc/RedHat-release</span><br><span class="line"></span><br><span class="line">exit</span><br></pre></td></tr></table></figure></p>
<h2 id="三、正式安装"><a href="#三、正式安装" class="headerlink" title="三、正式安装"></a>三、正式安装</h2><p>　　将安装包解压至指定目录，本人是直接在/Home/Oracle下解压的。解压后会生成一个database目录。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cd /Oracle</span><br><span class="line"></span><br><span class="line">unzip linux.x64_11gR2_database_1of2.zip</span><br><span class="line"></span><br><span class="line">unzip linux.x64_11gR2_database_2of2.zip</span><br><span class="line"></span><br><span class="line">cd database/</span><br><span class="line"></span><br><span class="line">./runInstaller</span><br></pre></td></tr></table></figure></p>
<p>这样我们就进入了安装Oracle的图形界面了。如果发现安装界面乱码可以执行命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export NLS_LANG=AMERICAN_AMERICA.UTF8</span><br><span class="line"></span><br><span class="line">export LC_ALL=C</span><br></pre></td></tr></table></figure></p>
<p>-&gt;注：以下除了密码之外未提及支之处全部选择默认值即可。密码这个自行决定。<br>-&gt;在Configure Security Updates中去掉“I wish”，邮箱也不用填直接下一步。弹出警告框也不用管。下面同理不多赘述。<br>-&gt;在System Class中选择Server Class。<br>-&gt;选择Advanced install<br>-&gt;在Product Languages上可以添加简体中文（simplified-chinese）<br>-&gt;在Typical Installation中路径选择刚才安装包解压的目录，笔者的目录就是/Home/Oracle。输入管理员密码并确认。点击下一步，报错不管它。<br>-&gt;第十二步，选择上面的character sets进入界面 选择Use Unicode(AL32UTF8),然后选择上面Sample Schemas,进入界面后将选项打钩<br>-&gt;在Prerequis like Checks中勾选 ignore All。因为我们之前已经安装好所有的依赖了，所以只要忽略即可。这里最好还要新建一个终端跑一下。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp/CVU_11.2.0.1.0_用户名</span><br><span class="line"></span><br><span class="line">sudo ./runfixup.sh</span><br></pre></td></tr></table></figure></p>
<p>-&gt;点击Finish开始安装。<br>-&gt;安装至68%时会报错,第一个错误（有关ins_ctx.mk）直接continue。从第二个错开始我们就要干活儿了。<br>-&gt;第二个错误，我们需要新建终端执行以下指令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /Oracle/product/11.2.0/dbhome_1/sysman/lib</span><br><span class="line"></span><br><span class="line">sudo apt install gedit</span><br><span class="line"></span><br><span class="line">gedit ins_emagent.mk</span><br></pre></td></tr></table></figure></p>
<p>在打开的文件中找到<code>$(SYSMANBIN)emdctl</code>，将冒号后的值改为<code>$(MK_EMAGENT_NMECTL -lnnz11)</code>。在gedit中可以使用Ctrl+f进行查找。修改完毕后保存退出。点击retry。<br>-&gt;我们发现又会报错，没关系，依次执行以下指令即可。执行完retry即可。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo sed -i &apos;s/^\(TNSLSNR_LINKLINE.*\$(TNSLSNR_OFILES)\) \(\$(LINKTTLIBS)\)/\1 -Wl,--no-as-needed \2/g&apos; /home/rogear/tools/oracle11g/product/11.2.0/dbhome_1/network/lib/env_network.mk</span><br><span class="line"></span><br><span class="line">sudo sed -i &apos;s/^\(ORACLE_LINKLINE.*\$(ORACLE_LINKER)\) \(\$(PL_FLAGS)\)/\1 -Wl,--no-as-needed \2/g&apos; /home/rogear/tools/oracle11g/product/11.2.0/dbhome_1/rdbms/lib/env_rdbms.mk</span><br><span class="line"></span><br><span class="line">sudo sed -i &apos;s/^\(\$LD \$LD_RUNTIME\) \(\$LD_OPT\)/\1 -Wl,--no-as-needed \2/g&apos; /home/rogear/tools/oracle11g/product/11.2.0/dbhome_1/bin/genorasdksh</span><br><span class="line"></span><br><span class="line">sudo sed -i &apos;s/^\(\s*\)\(\$(OCRLIBS_DEFAULT)\)/\1 -Wl,--no-as-needed \2/g&apos; /home/rogear/tools/oracle11g/product/11.2.0/dbhome_1/srvm/lib/ins_srvm.mk</span><br></pre></td></tr></table></figure></p>
<p>-&gt;后面一直ok就行。</p>
<h2 id="四、测试"><a href="#四、测试" class="headerlink" title="四、测试"></a>四、测试</h2><p>首先检查一下参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo $ORACLE_BASE</span><br><span class="line"></span><br><span class="line">echo $ORACLE_HOME</span><br><span class="line"></span><br><span class="line">echo $PATH</span><br></pre></td></tr></table></figure></p>
<p>如果不对的话你需要看一下之前的环境变量设置。仔细查看你的路径名，包括用户名是不是自己的。参数对的话就可以启动监听了。<br><code>lsnrctl start</code><br>如果不行的话，基本上还是环境变量的问题。启动服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sqlplus /nolog</span><br><span class="line"></span><br><span class="line">conn / as sysdba</span><br><span class="line"></span><br><span class="line">startup</span><br></pre></td></tr></table></figure></p>
<p>可以在SQL里做个小测试<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">1</span> <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure></p>
<p>成功了那你的Oracle服务器就部署成功了。</p>
<h1 id="4-使用Windows客户机连接服务器上的Oracle"><a href="#4-使用Windows客户机连接服务器上的Oracle" class="headerlink" title="4.使用Windows客户机连接服务器上的Oracle"></a>4.使用Windows客户机连接服务器上的Oracle</h1><h2 id="一、创建用户"><a href="#一、创建用户" class="headerlink" title="一、创建用户"></a>一、创建用户</h2><p>直至上面测试做完为止，我们的数据库用户还是只有sys这一个超级用户。我们做项目不可能只有一个用户的，这个时候我们要创建给客户用的用户。在SQL中写以下指令。(注意：SQL指令是要加分号的)。还要注意把括号内说明段删掉。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> njust2048(用户名)<span class="keyword">identified</span> <span class="keyword">by</span> <span class="keyword">admin</span>(密码);</span><br><span class="line"></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">resource</span>,<span class="keyword">connect</span>,dba <span class="keyword">to</span> cs2048;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> user_sys_privs;</span><br></pre></td></tr></table></figure></p>
<p>对于普通用户：授予connect, resource权限。<br>对于DBA管理用户：授予connect，resource, dba权限。<br>DBA: 拥有全部特权，是系统最高权限，只有DBA才可以创建数据库结构。sysdba角色之外权限最大的角色。<br>RESOURCE:拥有Resource权限的用户只可以创建实体，不可以创建数据库结构。<br>CONNECT:拥有Connect权限的用户只可以登录Oracle，不可以创建实体，不可以创建数据库结构。</p>
<h2 id="二、使用创建的用户连接数据库"><a href="#二、使用创建的用户连接数据库" class="headerlink" title="二、使用创建的用户连接数据库"></a>二、使用创建的用户连接数据库</h2><p>这里有两种方案可以选择。</p>
<h3 id="1）使用Oracle-SQL-developor"><a href="#1）使用Oracle-SQL-developor" class="headerlink" title="1）使用Oracle SQL developor"></a>1）使用Oracle SQL developor</h3><p>这种图形界面可以分为一个大类。有兴趣或者要求的读者可以寻找其他的软件。<br>从Oracle官网上下载安装包（对应你客户机的jdk版本）并安装。进入界面。  点击加号新建连接。连接名自定义，用户名和密码使用我们刚刚创建好的用户和密码。主机名填写服务器域名。sid可以在服务器使用<code>select instance_name from v$instance;</code>查询。端口号为默认的1521。点击测试可以测试连接可靠性。测试成功后连接即可。</p>
<h3 id="2）使用控制台连接数据库"><a href="#2）使用控制台连接数据库" class="headerlink" title="2）使用控制台连接数据库"></a>2）使用控制台连接数据库</h3><p>在Windows下打开cmd或者power shell。执行以下命令。<br><code>sqlplus sys/password@192.168.110.30/orcl as sysdba</code>  </p>
<h1 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h1><p><a href="https://blog.csdn.net/weixin_40461281/article/details/79784429" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40461281/article/details/79784429</a><br><a href="https://www.linuxidc.com/Linux/2017-12/149797.htm" target="_blank" rel="noopener">https://www.linuxidc.com/Linux/2017-12/149797.htm</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/16/Oracle Install in CentOS7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="皇叔">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我是你皇叔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/16/Oracle Install in CentOS7/" class="post-title-link" itemprop="url">再次入魂——小白在CentOS7.6环境下部署Oracle11g服务器并使用Windows客户端连接</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-16 15:24:47" itemprop="dateCreated datePublished" datetime="2019-10-16T15:24:47+08:00">2019-10-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-20 20:47:48" itemprop="dateModified" datetime="2019-04-20T20:47:48+08:00">2019-04-20</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="再次入魂——小白在CentOS7-6环境下部署Oracle11g服务器并使用Windows客户端连接"><a href="#再次入魂——小白在CentOS7-6环境下部署Oracle11g服务器并使用Windows客户端连接" class="headerlink" title="再次入魂——小白在CentOS7.6环境下部署Oracle11g服务器并使用Windows客户端连接"></a>再次入魂——小白在CentOS7.6环境下部署Oracle11g服务器并使用Windows客户端连接</h1><h1 id="1-学习几个基本Linux终端指令"><a href="#1-学习几个基本Linux终端指令" class="headerlink" title="1.学习几个基本Linux终端指令"></a>1.学习几个基本Linux终端指令</h1><p>　　由于Linux和Windows的软件安装方式有很大的不同，所以基本上都是需要在终端上敲命令行代码实现的。<br>　　一、cd（change directory）切换目录<br>　　<code>$cd　　　　　直接回到根目录</code><br>　　<code>$cd ..　　　　回到上级目录</code><br>　　<code>$cd 路径名　　切换至该路径</code><br>　　二、ls　查看文件或目录<br>　　<code>$ls　　　　　查看当前目录的文件与目录</code><br>　　<code>$cd 路径名　　查看该路径下的文件与目录</code><br>　　ls命令常用于检查目录下的文件及目录。这样我们就不用费力地去找文件管理器下的文件而是可以直接在终端中查看。当我们不确定自己创建的目录是否成功时可以轻松地使用ls查看。<br>　　三、su 和 sudo<br>　　有些时候一些指令需要我们拥有管理员权限方能执行，这个时候这两个指令就非常重要。<br>　　<code>su</code><br>　　进入root模式。su命令执行后，你需要在终端输入root密码，在终端中，密码是不显示的，输完直接敲回车即可。这是系统root用户，拥有很高的权限。值得注意的是，Ubuntu刚安装好是没有激活root的，需要我们手动激活。这时我们需要sudo指令。<br>　　<code>sudo</code><br>　　在指令的前面加上sudo 即可在管理员模式下执行指令。当然，密码还是要输的，这里输的密码是你的系统用户密码（开机密码）而不是root密码。<br>　　<code>sudo passwd root</code><br>　　执行该指令即可设定root密码。<br>　　四、vim 文档编辑<br>　　这个指令我们会在环境变量及配置文档的修改编辑中遇到。系统没有的话可在root模式中通过指令安装<br>　　<code>yum -y install vim</code><br>　　安装好之后使用指令<code>vim xxx</code>进入xxx文件。键盘敲击’i’即可进入insert模式。编辑完毕后按’esc’,在键盘上输入 <strong>‘:wq’</strong> 保存并退出。记住一定要加’冒号‘。不想保存的话用’:q’。</p>
<h1 id="2-安装Java并配置环境变量"><a href="#2-安装Java并配置环境变量" class="headerlink" title="2.安装Java并配置环境变量"></a>2.安装Java并配置环境变量</h1><p>　　由于Oracle是基于Java环境的数据库，所以必须要配置Java方可运行。CentOS如果你装了图形界面的话应该是自带Java的。但是没有安装jdk，如果你不需要安装sql developer(一款可视化Oracle操作工具)。那么这一步可以略过不看。<br>　　一、卸载系统自带JDK<br>　　依次执行如下指令<br>　　<code>rpm -qa | grep java</code><br>　　命令说明：<br>　　rpm 　　管理套件<br>　　-qa 　　使用询问模式，查询所有套件<br>　　grep　　查找文件里符合条件的字符串<br>　　java 　　查找包含java字符串的文件<br>　　将除了.noarch文件的Java文件全删了。进入root用户，输入<br>　<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rpm -e --nodeps java-1.7.0-openjdk-1.7.0.111-2.6.7.8.el7.x86_64</span><br><span class="line">rpm -e --nodeps java-1.8.0-openjdk-1.8.0.102-4.b14.el7.x86_64</span><br><span class="line">rpm -e --nodeps java-1.8.0-openjdk-headless-1.8.0.102-4.b14.el7.x86_64</span><br><span class="line">rpm -e --nodeps java-1.7.0-openjdk-headless-1.7.0.111-2.6.7.8.el7.x86_64</span><br></pre></td></tr></table></figure></p>
<p>　　命令介绍：<br>　　-e                      删除指定套件<br>　　–nodeps        不验证套件档的相互关联性<br>　　检查一下是否删除成功<br>　　<code>java -version</code><br>　　若未找到Java命令代表删除成功，若没有成功可用<code>yum -y remove</code>指令删一下。<br>　　二、安装JDK<br>　　从各种网站上找到你所需要的JDK版本并下载，这个看你自己，我下的是从官网上找的1.8。下载完毕打开安装目录，在目录中打开终端。将文件复制到/usr/java目录中并解压。<br>　　<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">　　su</span><br><span class="line">　　cp 安装包文件名 /usr/java</span><br><span class="line">　　tar -zxvf 文件名</span><br><span class="line">　　rm -f 安装包文件名</span><br></pre></td></tr></table></figure></p>
<p>　　三、JDK环境变量的配置<br>　　通过指令<br>　　<code>sudo vim /etc/profile</code><br>　　打开profile文件，此文件存储Linux中的各种环境变量，敲击’i’在文件末尾加入以下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/java/jdk1.8.0_144</span><br><span class="line"></span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/jre/lib/rt.jar:$&#123;JRE_HOME&#125;/lib/dt.jar:$&#123;JAVA_HOME&#125;/lib/tools.jar</span><br><span class="line"></span><br><span class="line">export PATH=$PATH:$&#123;JAVA_HOME&#125;/bin:</span><br></pre></td></tr></table></figure></p>
<p>如何保存并退出在上一章节已经有提到，以后章节不再赘述。保存完毕后我们先要更新一下系统参数<code>source /etc/profile</code>在终端测试一下是否安装成功。依次输入指令。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo %JAVA_HOME   </span><br><span class="line">java -version</span><br></pre></td></tr></table></figure></p>
<p>若出现我们添加进profile文件中的路径以及正确的java版本号则安装成功。若未出现，可能你需要检查一下profile文件或者java安装包。</p>
<h1 id="3-安装前的准备工作"><a href="#3-安装前的准备工作" class="headerlink" title="3.安装前的准备工作"></a>3.安装前的准备工作</h1><p>在进行各种依赖的下载还有乱七八糟的事之前，我们先把Oracle的安装包下载任务开始起来，这样就不需要多等一段时间了。Oracle11g的安装包在官网很容易找到，注意一定要将两个压缩包全部下载下来。最好还能定点下载到一个<strong>指定的目录</strong>里。本人就是将其下载至主文件夹下的<strong>Oracle</strong>文件夹下。这样方便后续的操作。<br>注意：此处所用的指令都需要root老大哥才能完成。出错的时候先看看是不是权限的问题。</p>
<h2 id="一、用户组创建并更改OS系统标志"><a href="#一、用户组创建并更改OS系统标志" class="headerlink" title="一、用户组创建并更改OS系统标志"></a>一、用户组创建并更改OS系统标志</h2><p>运行下列指令通过命令行使用root模式创建用户和用户组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line">groupadd oinstall</span><br><span class="line">groupadd dba</span><br><span class="line">useradd -g oinstall -g dba -m oracle</span><br></pre></td></tr></table></figure></p>
<p>查询用户组是否成功加入到用户组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groups oracle</span><br></pre></td></tr></table></figure></p>
<p>设置oracle用户登录密码<br><code>passwd oracle</code><br>由于Oracle默认只支持redhat，不支持Ubuntu、centos等其他Linux系统，所以将系统标志修改成RedHat-7<br><code>vim /etc/redhat-release</code><br>内容修改为<code>redhat-7</code>。<br>关闭防火墙。<br><code>systemctl stop firewalld</code><br>其实可以仅仅开放你所需要的端口。笔者在这里使用的是9999端口，Oracle默认的是1521端口。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=9999/tcp --permanent  </span><br><span class="line"></span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure></p>
<p>关闭selinux（重启后生效）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/selinux/config</span><br><span class="line">//修改SELINUX=disabled并去掉#</span><br></pre></td></tr></table></figure></p>
<p>重启并进入oracle用户<br><code>reboot</code><br>注意：在生产环境下不可关闭防火墙和selinux。</p>
<h2 id="二、创建Oracle数据库安装目录"><a href="#二、创建Oracle数据库安装目录" class="headerlink" title="二、创建Oracle数据库安装目录"></a>二、创建Oracle数据库安装目录</h2><p>创建目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /data/oracle</span><br><span class="line">mkdir -p /data/oraInventory</span><br><span class="line">mkdir -p /data/database</span><br></pre></td></tr></table></figure></p>
<p>注意：这里使用的都是绝对路径，即在前面有个‘/’。<br>接下来将这些文件夹的使用权限都赋给我们刚刚创建的oracle用户。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /data</span><br><span class="line">ls</span><br><span class="line">chown -R oracle:oinstall /data/oracle</span><br><span class="line">chown -R oracle:oinstall /data/oraInventory</span><br><span class="line">chown -R oracle:oinstall /data/database</span><br></pre></td></tr></table></figure></p>
<h2 id="三-、依赖包的安装"><a href="#三-、依赖包的安装" class="headerlink" title="三 、依赖包的安装"></a>三 、依赖包的安装</h2><p>　　Linux不同于Windows，这些东西都需要我们自己手动去安装。要装的东西多的要死，这里用yum指令进行批量安装，要稍等一会儿。<br><code>yum install binutils-2.* compat-libstdc++-33* elfutils-libelf-0.* elfutils-libelf-devel-* gcc-4.* gcc-c++-4.* glibc-2.* glibc-common-2.* glibc-devel-2.* glibc-headers-2.* ksh-2* libaio-0.* libaio-devel-0.* libgcc-4.* libstdc++-4.* libstdc++-devel-4.* make-3.* sysstat-7.* unixODBC-2.* unixODBC-devel-2.* pdksh*</code> </p>
<h2 id="四、配置系统内核参数"><a href="#四、配置系统内核参数" class="headerlink" title="四、配置系统内核参数"></a>四、配置系统内核参数</h2><p>　　这里我们可以直接开两个终端来配，查一个配一个比较方便。<br>　　新建一个终端键入指令<code>sudo vim /etc/sysctl.conf</code>。<br>　　原终端按下列指令依次查出对应参数的值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/sbin/sysctl -a | grep sem</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep file-max</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep aio-max</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep ip_local_port_range</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep rmem_default</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep rmem_max</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep wmem_default</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep wmem_max</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep shmall</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep shmmax</span><br><span class="line"></span><br><span class="line">/sbin/sysctl -a | grep shmmni</span><br></pre></td></tr></table></figure></p>
<p>　　再将值填入对应的参数中并添加至新终端的’sysctl.conf’的末尾并保存退出。确保填入的值尽量是默认的内核参数，但是不能少于下列示例。　　<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.icmp_echo_ignore_broadcasts = 1</span><br><span class="line">net.ipv4.conf.all.rp_filter = 1</span><br><span class="line">fs.file-max = 6815744 #设置最大打开文件数</span><br><span class="line">fs.aio-max-nr = 1048576</span><br><span class="line">kernel.shmall = 2097152 #共享内存的总量，8G内存设置：2097152*4k/1024/1024</span><br><span class="line">kernel.shmmax = 2147483648 #最大共享内存的段大小</span><br><span class="line">kernel.shmmni = 4096 #整个系统共享内存端的最大数</span><br><span class="line">kernel.sem = 250 32000 100 128</span><br><span class="line">net.core.rmem_default = 262144</span><br><span class="line">net.core.rmem_max= 4194304</span><br><span class="line">net.core.wmem_default= 262144</span><br><span class="line">net.core.wmem_max= 1048576</span><br><span class="line">net.ipv4.ip_local_port_range = 1000 65500 #可使用的IPv4端口范围</span><br></pre></td></tr></table></figure></p>
<p>更新内核参数<code>sysctl -p</code>。  </p>
<h2 id="五、配置Oracle环境变量"><a href="#五、配置Oracle环境变量" class="headerlink" title="五、配置Oracle环境变量"></a>五、配置Oracle环境变量</h2><p>　　现在我们要配置Oracle的环境变量。<code>sudo vim /home/oracle/.bash_profile</code>  。将下列内容添加至文件后面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">export ORACLE_BASE=/data/oracle</span><br><span class="line"></span><br><span class="line">export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/dbhome_1</span><br><span class="line"></span><br><span class="line">export ORACLE_SID=orcl</span><br><span class="line"></span><br><span class="line">export ORACLE_UNQNAME=orcl</span><br><span class="line"></span><br><span class="line">export ORACLE_TERM=xterm</span><br><span class="line"></span><br><span class="line">export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib #添加系统环境变量</span><br><span class="line"></span><br><span class="line">export LANG=C #防止安装过程出现乱码</span><br><span class="line"></span><br><span class="line">export NLS_LANG=AMERICAN_AMERICA.ZHS16GBK  #设置Oracle客户端字符集，必须与Oracle安装时设置的字符集保持一致</span><br><span class="line"></span><br><span class="line">export PATH=$&#123;PATH&#125;:$&#123;ORACLE_HOME&#125;/bin/:/usr/sbin</span><br></pre></td></tr></table></figure></p>
<p>保存并退出后更新一下环境变量<code>source /home/oracle/.bash_profile</code>。</p>
<h2 id="三、正式安装"><a href="#三、正式安装" class="headerlink" title="三、正式安装"></a>三、正式安装</h2><p>　　将安装包解压至指定目录。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">unzip linux.x64_11gR2_database_1of2.zip -d /data/database</span><br><span class="line"></span><br><span class="line">unzip linux.x64_11gR2_database_2of2.zip -d /data/database</span><br><span class="line"></span><br><span class="line">chown -R oracle:oinstall /data</span><br><span class="line"></span><br><span class="line">cd /data/database/database</span><br><span class="line"></span><br><span class="line">ls</span><br><span class="line"></span><br><span class="line">./runInstaller</span><br></pre></td></tr></table></figure></p>
<p>这样我们就进入了安装Oracle的图形界面了。<br>注意：这样做有的情况会出现提示条只出现白条的问题，这样我们就无法进行下一步了，甚至连退出都够呛。笔者就出现过这种情况。这个我们参考<a href="https://blog.csdn.net/ykyorky/article/details/79259424?utm_source=blogxgwz6中的解决方案。使用指令" target="_blank" rel="noopener">https://blog.csdn.net/ykyorky/article/details/79259424?utm_source=blogxgwz6中的解决方案。使用指令</a><br><code>./runInstall -jreLoc JDK安装路径</code><br>进行安装<br>-&gt;注：以下除了密码之外未提及支之处全部选择默认值即可。密码这个自行决定。<br>-&gt;在Configure Security Updates中去掉“I wish”，邮箱也不用填直接下一步。弹出警告框也不用管。下面同理不多赘述。<br>-&gt;在Installation option中选择install database software only<br>-&gt;在Grid Installation中选择single instance database installation<br>-&gt;在Product Languages上可以添加简体中文（simplified-chinese）<br>-&gt;在Select Database Edition选择企业版（enterprise）<br>-&gt;在Typical Installation中路径选择刚才安装包解压的目录，笔者的目标目录在上面已经写好，不多赘述。输入密码并确认。点击下一步，报错不管它。<br>-&gt;第十二步，选择上面的character sets进入界面 选择Use Unicode(AL32UTF8),然后选择上面Sample Schemas,进入界面后将选项打钩<br>-&gt;在Prerequis like Checks中勾选 ignore All。因为我们之前已经安装好所有的依赖了，所以只要忽略即可。这里最好还要新建一个终端跑一下。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp/CVU_11.2.0.1.0_用户名</span><br><span class="line"></span><br><span class="line">sudo ./runfixup.sh</span><br></pre></td></tr></table></figure></p>
<p>-&gt;点击Finish开始安装。<br>-&gt;安装时会报错,新建终端敲一下指令。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line"></span><br><span class="line">yum -y install glibc-static</span><br><span class="line"></span><br><span class="line">vim /data/oracle/product/11.2.0/db_1/ctx/lib/ins_ctx.mk</span><br></pre></td></tr></table></figure></p>
<p>将<br><code>ctxhx: $(CTXHXOBJ)
       $(LINK_CTXHX) $(CTXHXOBJ) $(INSO_LINK)</code><br>修改为：<br><code>ctxhx: $(CTXHXOBJ)
       -static $(LINK_CTXHX) $(CTXHXOBJ) $(INSO_LINK) /usr/lib64/libc.a</code><br>接着再改一下ins_emagent.mk文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /data/oracle/product/11.2.0/dbhome_1/sysman/lib</span><br><span class="line"></span><br><span class="line">yum -y install gedit</span><br><span class="line"></span><br><span class="line">gedit ins_emagent.mk</span><br></pre></td></tr></table></figure></p>
<p>在打开的文件中找到<code>$(SYSMANBIN)emdctl</code>，将冒号后的值改为<code>$(MK_EMAGENT_NMECTL -lnnz11)</code>。在gedit中可以使用Ctrl+f进行查找。修改完毕后保存退出。<br>点击retry。<br>如果出现很多权限问题可自行百度，笔者碰到过一个坑但是解决方法忘了，大致就是改一下配置文件或者授予文件夹权限之类的。<br>-&gt;后面一直ok就行。</p>
<h2 id="四、配置监听并创建数据库实例测试"><a href="#四、配置监听并创建数据库实例测试" class="headerlink" title="四、配置监听并创建数据库实例测试"></a>四、配置监听并创建数据库实例测试</h2><p>首先检查一下参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo $ORACLE_BASE</span><br><span class="line"></span><br><span class="line">echo $ORACLE_HOME</span><br><span class="line"></span><br><span class="line">echo $PATH</span><br></pre></td></tr></table></figure></p>
<p>如果不对的话你需要看一下之前的环境变量设置。仔细查看你的路径名，包括用户名是不是自己的。参数对的话就可以启动监听了。  </p>
<h2 id="1）配置监听"><a href="#1）配置监听" class="headerlink" title="1）配置监听"></a>1）配置监听</h2><p>我们使用命令<code>netca</code>进行监听的设定。<br>注意：如果你所使用的端口号在步骤3.1中没有打开，那么是无法创建监听的。这里面基本没什么不懂的，看得懂英文就行。只不过要注意在选择协议的时候选择TCP。出错的话可能是环境变量的问题或者是文件夹权限的问题，问题都不是很大。</p>
<h2 id="2）创建一个Oracle数据库实例"><a href="#2）创建一个Oracle数据库实例" class="headerlink" title="2）创建一个Oracle数据库实例"></a>2）创建一个Oracle数据库实例</h2><p>如果你看了别的教程在安装阶段就已经创建了数据库实例，那么可以跳过本步骤。这里说的是没有创建数据库实例的情况。执行<code>dbca</code>命令进入图形界面。点击next即可进入下一步。<img src="https://img-blog.csdnimg.cn/20190408233533957.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNjcwMzA0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>选择“create a database”<br><img src="https://img-blog.csdnimg.cn/20190408233707292.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNjcwMzA0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>选择“custom dataase”<br><img src="https://img-blog.csdnimg.cn/20190408234023515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNjcwMzA0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>填入之前在环境变量文件中写的sid，如果上面你是直接复制的话那么填入<code>orcl</code>即可，想换的话也行，不过要把环境变量中的一起换掉。<br><img src="https://img-blog.csdnimg.cn/20190408234033157.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNjcwMzA0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>后面笔者懒得叙述了，反正基本都能成功，觉得讲得不够详细可以看我最后一章参考的资料。出错按照错误代码百度相应的解决方案。笔者遇到的错误比较奇葩。提示的是我共享内存空间不足了，于是我找了很多解决方案，最简单的还是直接reboot重启（重启大法好啊）。</p>
<h2 id="3）测试"><a href="#3）测试" class="headerlink" title="3）测试"></a>3）测试</h2><p>新开一个终端，写入下列命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sqlplus /nolog</span><br><span class="line"></span><br><span class="line">conn / as sysdba</span><br></pre></td></tr></table></figure></p>
<p>这样你就可以用sys超级管理员用户连接我们刚刚创建的数据库实例orcl了。<br>可以在SQL里做个小测试<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">1</span> <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure></p>
<p>成功了那你的Oracle服务器就部署成功了。</p>
<h1 id="4-使用Windows客户机连接服务器上的Oracle"><a href="#4-使用Windows客户机连接服务器上的Oracle" class="headerlink" title="4.使用Windows客户机连接服务器上的Oracle"></a>4.使用Windows客户机连接服务器上的Oracle</h1><h2 id="一、创建用户"><a href="#一、创建用户" class="headerlink" title="一、创建用户"></a>一、创建用户</h2><p>直至上面测试做完为止，我们的数据库用户还是只有sys这一个超级用户。我们做项目不可能只有一个用户的，这个时候我们要创建给客户用的用户。在SQL中写以下指令。(注意：SQL指令是要加分号的)。还要注意把括号内说明段删掉。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> njust2048(用户名)<span class="keyword">identified</span> <span class="keyword">by</span> <span class="keyword">admin</span>(密码);</span><br><span class="line"></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">resource</span>,<span class="keyword">connect</span>,dba <span class="keyword">to</span> cs2048;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> user_sys_privs;</span><br></pre></td></tr></table></figure></p>
<p>对于普通用户：授予connect, resource权限。<br>对于DBA管理用户：授予connect，resource, dba权限。<br>DBA: 拥有全部特权，是系统最高权限，只有DBA才可以创建数据库结构。sysdba角色之外权限最大的角色。<br>RESOURCE:拥有Resource权限的用户只可以创建实体，不可以创建数据库结构。<br>CONNECT:拥有Connect权限的用户只可以登录Oracle，不可以创建实体，不可以创建数据库结构。</p>
<h2 id="二、使用创建的用户连接数据库"><a href="#二、使用创建的用户连接数据库" class="headerlink" title="二、使用创建的用户连接数据库"></a>二、使用创建的用户连接数据库</h2><p>这里有两种方案可以选择。</p>
<h3 id="1）使用Oracle-SQL-developor"><a href="#1）使用Oracle-SQL-developor" class="headerlink" title="1）使用Oracle SQL developor"></a>1）使用Oracle SQL developor</h3><p>这种图形界面可以分为一个大类。有兴趣或者要求的读者可以寻找其他的软件。使用Oracle SQL developer的话必须要安装jdk才行。从Oracle官网上下载安装包（对应你客户机的jdk版本）并安装。进入界面。  点击加号新建连接。连接名自定义，用户名和密码使用我们刚刚创建好的用户和密码。主机名填写服务器域名。sid可以在服务器使用<code>select instance_name from v$instance;</code>查询。端口号为默认的1521。点击测试可以测试连接可靠性。测试成功后连接即可。</p>
<h3 id="2）使用控制台连接数据库"><a href="#2）使用控制台连接数据库" class="headerlink" title="2）使用控制台连接数据库"></a>2）使用控制台连接数据库</h3><p>在Windows下打开cmd或者power shell。执行以下命令。<br><code>sqlplus cs2048/2048@192.168.1.113:1521/orcl</code><br>这样你就可以连接至服务器的数据库。注意，这里的参数顺序分别是：<br>cs2048（用户名）；2048（密码）；192.168.1.113（服务器IP）；orcl（服务名）</p>
<h1 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h1><p><a href="https://www.cnblogs.com/muhehe/p/7816808.html" target="_blank" rel="noopener">https://www.cnblogs.com/muhehe/p/7816808.html</a><br><a href="https://blog.csdn.net/ykyorky/article/details/79259424?utm_source=blogxgwz6" target="_blank" rel="noopener">https://blog.csdn.net/ykyorky/article/details/79259424?utm_source=blogxgwz6</a><br><a href="https://www.cnblogs.com/buxingzhelyd/p/7865194.html" target="_blank" rel="noopener">https://www.cnblogs.com/buxingzhelyd/p/7865194.html</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/03/NS2学习笔记（三）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="皇叔">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我是你皇叔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/06/03/NS2学习笔记（三）/" class="post-title-link" itemprop="url">NS2学习笔记（三）</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-06-03 11:52:37 / 修改时间：19:58:38" itemprop="dateCreated datePublished" datetime="2019-06-03T11:52:37+08:00">2019-06-03</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="NS2节点"><a href="#NS2节点" class="headerlink" title="NS2节点"></a>NS2节点</h1><p>节点是网络拓扑的重要组成部分，是NS2符合网络组件的一个大类。这里对应NS手册的第五章。</p>
<h2 id="节点基本元素"><a href="#节点基本元素" class="headerlink" title="节点基本元素"></a>节点基本元素</h2><p>建立节点基本命令：<br><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> ns [new Simulator]</span><br><span class="line">$ns node</span><br></pre></td></tr></table></figure></p>
<p>一个（单播）节点的典型结构包含两个TclObject：一个地址分类器（classifier_）和一个端口分类器（dmux_）。这些分类器的功能是将传入的包分派至正确的代理或者链路出口去。<br>每个节点至少包含以下部分：</p>
<ul>
<li>一个地址或（id_），初始值为0，当节点建立时，模拟的名字控件将自动加1；</li>
<li>一个邻居链表（neighbor_）；</li>
<li>一个代理链表（agnet_）;</li>
<li>一个节点类型识别器（nodetype_）；</li>
<li>一个路由模块</li>
</ul>
<p>建立多播节点时需要进行设置<br><code>set ns [new Simulator -multicast on]</code></p>
<h2 id="设置节点"><a href="#设置节点" class="headerlink" title="设置节点"></a>设置节点</h2><h3 id="控制函数"><a href="#控制函数" class="headerlink" title="控制函数"></a>控制函数</h3><ul>
<li>$node entry：返回节点的入口指针</li>
<li>$node reset：重新设置节点上的所有代理<h3 id="地址和端口号管理"><a href="#地址和端口号管理" class="headerlink" title="地址和端口号管理"></a>地址和端口号管理</h3></li>
<li>$node id：返回节点的节点号，该号码是在类Simulator用方法$ns node创建每个节点自动生成和赋值的</li>
<li>$node agent(port)：返回一个端口号为port的代理的句柄。若代理不存在则返回空字符串。</li>
<li>add-route和add-toutes：单播的时候用来增加路由路径从而产生classifier_。使用语法为<code>$node add-route &lt;destination id&gt; &lt;TclObject&gt;</code>。TclObject是dmux_的入口，节点的多路复用端口。add-routes用于已添加多重路由路径到同一个目的地。</li>
<li>delete-routes()</li>
<li>init-routing()和rtObject()。前者设置实例变量mutiPath_，使之与同名的类变量相同。同时给该节点的路由控制器对象增加一个实例变量rtObject_；后者返回该节点的路由对象的句柄。</li>
</ul>
<p>最后，当节点上的一个链路关联改变状态时，过程intf-changed()可以被网络动态代码激活。</p>
<h3 id="代理管理"><a href="#代理管理" class="headerlink" title="代理管理"></a>代理管理</h3>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/03/C-不知名库函数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="皇叔">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我是你皇叔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/06/03/C-不知名库函数/" class="post-title-link" itemprop="url">C++不知名库函数</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-06-03 10:10:52 / 修改时间：10:10:54" itemprop="dateCreated datePublished" datetime="2019-06-03T10:10:52+08:00">2019-06-03</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/31/NS2学习笔记（二）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="皇叔">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我是你皇叔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/31/NS2学习笔记（二）/" class="post-title-link" itemprop="url">NS2学习笔记（二）——分裂对象模型</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-31 15:40:09" itemprop="dateCreated datePublished" datetime="2019-05-31T15:40:09+08:00">2019-05-31</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-06-03 11:52:14" itemprop="dateModified" datetime="2019-06-03T11:52:14+08:00">2019-06-03</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="解释器相关类的介绍和用途"><a href="#解释器相关类的介绍和用途" class="headerlink" title="解释器相关类的介绍和用途"></a>解释器相关类的介绍和用途</h1><h2 id="Tcl类"><a href="#Tcl类" class="headerlink" title="Tcl类"></a>Tcl类</h2><p>封装了OTcl解释器的实例，并提供了访问解释器的方法，提供访问Tcl库的接口。该类提供如下操作方法：</p>
<ul>
<li><strong>1、获取Tcl实例句柄</strong><br>Tcl类只有一个实例，该实例在NS2启动时初始化，获取Tcl类的实例方法是<br><code>Tcl&amp; tcl = Tcl::instance();</code></li>
<li><p><strong>2、用来调用OTcl命令函数</strong><br>获得Tcl解释器引用之后可通过这个引用来调用OTcl中的控制台命令，现有4中方法通过Tcl实例来调用OTcl命令，主要区别是调用函数的不同。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tcl.eval(s)               <span class="comment">//执行已经存储进tcl返回区的命令，并返回给结果变量</span></span><br><span class="line">tcl.eval(<span class="keyword">char</span>* s)         <span class="comment">//执行字符串s，并在tcl的结果变量中保存执行结果</span></span><br><span class="line">tcl.evalc(<span class="keyword">const</span> cahr* s)  <span class="comment">//首先把s存储进tcl的命令缓冲区，然后在执行s命令，并在结果变量中返回结果</span></span><br><span class="line">tcl.evalf(<span class="keyword">const</span> <span class="keyword">char</span>* s,...)  <span class="comment">//类似于c语言中的printf命令，可以进行字符串的过滤，执行同tcl.evalc。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>3、传递/返回OTcl命令运行的结果</strong><br>当C++程序中调用一个OTcl命令是，解释器将执行结果保存在私有成员变量tcl_-&gt;results中，用户必须用tcl.result(void)来获取该执行结果，若结果是字符串，必须被转换为适当的类型。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tcl.evalc(<span class="string">"Simulator set NumberInterfaces_"</span>);</span><br><span class="line">cahr *ni = tcl.result();</span><br><span class="line"><span class="keyword">if</span>( atoi(ni)!=<span class="number">1</span> ) <span class="comment">//将字符串转换成整数</span></span><br><span class="line">  tcl.evalc(Simulator <span class="built_in">set</span> NumberInterfaces_1);</span><br></pre></td></tr></table></figure>
<p>Tcl类的结果返回，与脚本执行的退出码也有所不同，例如</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( <span class="built_in">strcmp</span>(argv[<span class="number">1</span>],<span class="string">"now"</span>) == <span class="number">0</span> )&#123;</span><br><span class="line">    tcl.resultf(<span class="string">"%.17g"</span>,clock());</span><br><span class="line">    <span class="keyword">return</span> TCL_OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>4、存储并查询TclObject对象</strong><br>在NS2中的Tcl命令解释器中保存了一个存储对象地址的哈希表，NS2为每一个在模拟过程中生成的TclObject类以及派生类的对象在该哈希表中保存了一个指针，用于快速查找这些对象。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Tcl.enter(TclObjuct* o)   <span class="comment">//在哈希表中加入一个对象</span></span><br><span class="line">Tcl.lookup(<span class="keyword">char</span>* s)       <span class="comment">//在哈希表中查询名字为s的对象并返回</span></span><br><span class="line">Tcl.remove(TclObject* o)  <span class="comment">//在哈希表中删除该对象的地址</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>5、获的Tcl解释器的句柄，来对解释器进行直接访问</strong><br>函数<code>Tcl.interp(void)</code>是Tcl的解释器句柄，可以对其进行修改，加入自己的解释器。</p>
<h2 id="TclObject类"><a href="#TclObject类" class="headerlink" title="TclObject类"></a>TclObject类</h2><p>TclObject类是OTcl/C++两个面向对象语言的类的基库，封装了绑定、跟踪和对相关命令的调用机制。</p>
</li>
<li><p>1、创建/清除模拟器组件的对象</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> tcp1 [<span class="keyword">new</span> Agent/TCP]</span><br><span class="line"><span class="keyword">delete</span> $tcp1</span><br></pre></td></tr></table></figure>
</li>
<li><p>2、实现从C++类成员变量到OTcl类成员变量的绑定</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bind(<span class="string">"distance_"</span>,&amp;distance)   <span class="comment">//绑定实数变量</span></span><br><span class="line">bind_time(<span class="string">"lastSent_"</span>,&amp;lastSessSent)   <span class="comment">//绑定时间变量</span></span><br><span class="line">bind_bw       <span class="comment">//绑定带宽变量</span></span><br><span class="line">bind_boll     <span class="comment">//绑定布尔型变量</span></span><br></pre></td></tr></table></figure>
<p>以上一个是OTcl变量名，一个是对应C++成员变量地址。</p>
</li>
<li>3、实现变量跟踪</li>
<li>4、实现从C++类的成员函数到OTcl类的成员函数之间的一一对应<br>  通过command()函数事项。由于command()是TclObject的成员函数，所以它的派生类的每个对象都可以重写该函数。  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">argc:命令行参数个数</span></span><br><span class="line"><span class="comment">*argv:命令行参数向量：argv[0]:cmd;argv[1]指定想要的操作;argv[2...argc-1]用户还指定的参数</span></span><br><span class="line"><span class="comment">参数以字符串形式给出，若操作匹配成功则返回操作结果；若操作不匹配则调用父类command()一直到匹配为止，若都不匹配则返回错误信号</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Int MobileNode::command(<span class="keyword">int</span> argc,<span class="keyword">const</span> <span class="keyword">char</span>*<span class="keyword">const</span>* argv)</span><br><span class="line">&#123;</span><br><span class="line">  Tcl&amp;tcl = Tcl::instance();</span><br><span class="line">  <span class="keyword">if</span>( argc == <span class="number">5</span> )&#123;</span><br><span class="line">    <span class="keyword">if</span>( <span class="built_in">strcmp</span>(argv[<span class="number">1</span>],<span class="string">"setdest"</span>)==<span class="number">0</span> )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span>( set_destination( atof(argv[<span class="number">2</span>]),atof(argv[<span class="number">3</span>]),atof(argv[<span class="number">4</span>]) )&lt;<span class="number">0</span> )</span><br><span class="line">      <span class="keyword">return</span> TCL_ERROR;</span><br><span class="line">      <span class="keyword">return</span> TCL_OK;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>( SRMAgent::command(argc,argv) );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="TclClass类"><a href="#TclClass类" class="headerlink" title="TclClass类"></a>TclClass类</h2><p>TclClass类用于注册编译，保持了编译分级的层次结构，同时给OTcl对象提供了创建C++对象的方法。<br><code>set o [new B/A]</code><br>对象o的解释构造函数在ns第一次启动时执行：</p>
<ul>
<li>次构造函数以解释器类的名字B/A调用ABClass的构造函数；</li>
<li>然后，ABClass构造函数调用其父类TclClass的构造函数；</li>
<li>TclClass构造函数存储类的名字，并将对象插入TclClass对象链中；</li>
<li>在simulator的初始化过程中，Tcl_AppInit(void)调用TclClass::bind(void)。bind()调用以解释类的名字作为参数的register{},register{}建立类层次，生成需要却还没有的类；</li>
<li>最后，bind()为新类定义实例过程create-shadow和delete-shadow，生成并返回对象o。<h2 id="TclCommand类"><a href="#TclCommand类" class="headerlink" title="TclCommand类"></a>TclCommand类</h2>TclCommand类用于定义简单的全局解释命令。TclCommand类也是纯虚函数。需要派生类实现两个成员函数：构造函数和command()。<h2 id="EmbeddedTcl类"><a href="#EmbeddedTcl类" class="headerlink" title="EmbeddedTcl类"></a>EmbeddedTcl类</h2>用户对脚本~tclcl/tcl-object.tck进行修改，增加tcl/lib的文件来对ns进行扩展。对于新文件的装载是由该类完成的。<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> EmbeddedTcl::load()&#123;</span><br><span class="line">  Tcl::instance().evalc(code_);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="InstVar类"><a href="#InstVar类" class="headerlink" title="InstVar类"></a>InstVar类</h2><p>包含了从OTcl访问C++类成员变量的方法。</p>
<h1 id="OTcl与C-之间的连接"><a href="#OTcl与C-之间的连接" class="headerlink" title="OTcl与C++之间的连接"></a>OTcl与C++之间的连接</h1><p>主要实现以下三个功能：</p>
<ul>
<li>动态创建一个新的C++对象；</li>
<li>访问该C++对象的属性；</li>
<li>调用该C++对象的方法。<h2 id="调用C-对象的方法"><a href="#调用C-对象的方法" class="headerlink" title="调用C++对象的方法"></a>调用C++对象的方法</h2></li>
<li>注册顶级命令<br>使用command方法</li>
<li>暴露C++对象方法</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/29/NS2学习笔记（一）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="皇叔">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我是你皇叔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/29/NS2学习笔记（一）/" class="post-title-link" itemprop="url">NS2学习笔记（一）</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-29 15:58:38" itemprop="dateCreated datePublished" datetime="2019-05-29T15:58:38+08:00">2019-05-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-31 15:39:32" itemprop="dateModified" datetime="2019-05-31T15:39:32+08:00">2019-05-31</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="TCL简介"><a href="#TCL简介" class="headerlink" title="TCL简介"></a>TCL简介</h1><h2 id="变量和变量赋值"><a href="#变量和变量赋值" class="headerlink" title="变量和变量赋值"></a>变量和变量赋值</h2><p>无需事先声明，使用set指令对变量进行首次赋值，使用变量时前面要加$符号。<br><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> a <span class="string">"hello world"</span></span><br><span class="line"><span class="keyword">puts</span> <span class="string">"NS2 say $"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>使用双引号将其括起来为单词赋值。</p>
<h2 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h2><p>tcl包含很多表达式，使用expr指令求数学表达式的值或关系表达式的真假。<br><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> value [<span class="keyword">expr</span> <span class="number">2</span>+<span class="number">3</span>]</span><br></pre></td></tr></table></figure></p>
<h2 id="指令替代"><a href="#指令替代" class="headerlink" title="指令替代"></a>指令替代</h2><p>使用中括号进行指令替代。指令替代可以将“tcl脚本的执行结果”取代“tcl脚本”。<br><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">puts</span> <span class="string">"I am [expr 10*2] years old"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><ul>
<li><p>选择结构</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>&#123;$a==<span class="string">"hello"</span>&#125;&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">else <span class="keyword">if</span>&#123;&#125;&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> $a&#123;</span><br><span class="line">    <span class="number">2</span> &#123;<span class="keyword">puts</span> $a&#125;</span><br><span class="line">    <span class="number">3</span> &#123;&#125;</span><br><span class="line">    default &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>循环结构</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> &#123;<span class="keyword">set</span> i <span class="number">0</span>&#125;&#123;$i&lt;<span class="number">5</span>&gt;&#125;&#123;<span class="keyword">incr</span> i <span class="number">1</span>&#125;&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>( $i&lt;<span class="number">5</span> )&#123;</span><br><span class="line">    <span class="keyword">incr</span> i <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> vowel &#123;a e i o u&#125;&#123;</span><br><span class="line">    <span class="keyword">puts</span> <span class="string">"$vowel is a vowel"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><p>与c++函数类似<br><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">proc</span><span class="title"> sum_proc</span> &#123;a b&#125;&#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="keyword">expr</span> $a + $b]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">puts</span> <span class="string">"sum is [sum_proc 1 2]"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>无需像C语言一样需要事先声明数组大小<br><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> a(<span class="number">0</span>) <span class="string">"Zero"</span></span><br><span class="line"><span class="keyword">puts</span> $a(0)</span><br></pre></td></tr></table></figure></p>
<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> f [<span class="keyword">open</span> <span class="string">"filename"</span> <span class="string">"w/r"</span>]</span><br><span class="line"><span class="keyword">puts</span> $f <span class="string">"1"</span></span><br><span class="line"><span class="keyword">close</span> $f</span><br></pre></td></tr></table></figure>
<h2 id="eval命令"><a href="#eval命令" class="headerlink" title="eval命令"></a>eval命令</h2><p>语法：<code>eval arg1.arg2.arg3,...</code><br>含义：将所有的参数连起来作为命令语句执行<br><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">file</span>.txt中存放</span><br><span class="line"><span class="number">1</span> + <span class="number">2</span></span><br><span class="line"><span class="number">4</span> + <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> infile [<span class="keyword">open</span> <span class="string">"/file.txt"</span> <span class="string">"r"</span>]</span><br><span class="line"><span class="keyword">while</span> &#123;[<span class="keyword">gets</span> $infile Op]&lt;=<span class="number">0</span>&#125;&#123;</span><br><span class="line">    <span class="keyword">set</span> Operation <span class="string">"expr $Op"</span></span><br><span class="line">    <span class="keyword">set</span> results [<span class="keyword">eval</span> $Operation]</span><br><span class="line">    <span class="keyword">puts</span> stdout <span class="string">"$Op = $Results\n"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>动态构造Tcl命令，然后解析并执行。</p>
<h2 id="error和catch命令"><a href="#error和catch命令" class="headerlink" title="error和catch命令"></a>error和catch命令</h2><p>相当于throw expection.<br><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">proc</span><span class="title"> div</span> &#123;a b&#125;&#123;</span><br><span class="line">    <span class="keyword">if</span>&#123;$b==<span class="number">0</span>&#125;&#123;</span><br><span class="line">        <span class="keyword">error</span> <span class="string">"divided by zero"</span></span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        <span class="keyword">return</span> [<span class="keyword">expr</span> $a/$b]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">div <span class="number">1</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<h2 id="upvar和uplevel命令"><a href="#upvar和uplevel命令" class="headerlink" title="upvar和uplevel命令"></a>upvar和uplevel命令</h2><ul>
<li><p>upvar可以使用户在过程中对全局变量或者其他过程中的局部变量进行访问</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">proc</span><span class="title"> decer</span> &#123;n m&#125;&#123;</span><br><span class="line">  <span class="keyword">upvar</span> $n upa</span><br><span class="line">  <span class="keyword">set</span> upa [<span class="keyword">expr</span> $upa-$m]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">set</span> nb <span class="number">12</span></span><br><span class="line">decer nb <span class="number">3</span></span><br><span class="line"><span class="keyword">puts</span> $nb</span><br></pre></td></tr></table></figure>
</li>
<li><p>uplevel可以改变上一级栈中的变量值</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">proc</span><span class="title"> ff</span> &#123;&#125;&#123;</span><br><span class="line">    <span class="keyword">set</span> a ff #设置了局部的a</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">set</span> a <span class="keyword">global</span></span><br><span class="line">ff</span><br><span class="line"><span class="keyword">puts</span> $a</span><br><span class="line">输出结果： <span class="keyword">global</span></span><br><span class="line">对比：</span><br><span class="line"><span class="keyword">proc</span><span class="title"> ff</span>&#123;&#125;&#123;</span><br><span class="line">    <span class="keyword">uplevel</span> <span class="keyword">set</span> a ff # 改变了上一级栈中的a</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">set</span> a <span class="keyword">global</span></span><br><span class="line">ff</span><br><span class="line"><span class="keyword">puts</span> $a</span><br><span class="line">输出:ff</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="OTcl简介"><a href="#OTcl简介" class="headerlink" title="OTcl简介"></a>OTcl简介</h1><h2 id="OTcl和C-的区别"><a href="#OTcl和C-的区别" class="headerlink" title="OTcl和C++的区别"></a>OTcl和C++的区别</h2><ul>
<li>C++在一对{}中完成对一个类的定义，而OTcl则是写成多个分开的部分，每一个方法给类增加一个成员函数，OTcl中成员变量是在成员函数中定义。</li>
<li>C++中的构造函数和析构函数对应OTcl语言中的init函数和destroy函数。OTcl中必须用next显式地调用父类的构造函数。</li>
<li>OTcl函数必须通过对象来调用。变量$self和C++中的this相似，表示对象自身。OTcl函数都是虚函数。</li>
<li>OTcl同样可以继承，，使用next关键字调用父类函数<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2>使用<code>instproc</code>定义类的方法，使用<code>proc</code>定义对象的方法，<code>proc</code>定义的方法只能用于该对象<h3 id="类的定义和生成"><a href="#类的定义和生成" class="headerlink" title="类的定义和生成"></a>类的定义和生成</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">% Class Box //使用关键字Class定义一个类Box</span><br><span class="line">% Box box1  //产生类的对象</span><br><span class="line">% box1 info Class   //使用info命令查看类和对象的关系</span><br><span class="line">% Box info instances</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>产生对象之后对，对对象进行变量定义，也可通过info命令来查看对象的变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">% box1 set length 10</span><br><span class="line">% box1 info vars</span><br><span class="line">length</span><br></pre></td></tr></table></figure></p>
<h3 id="init函数和destroy函数"><a href="#init函数和destroy函数" class="headerlink" title="init函数和destroy函数"></a>init函数和destroy函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">% Box instproc init &#123;args&#125;&#123;</span><br><span class="line">    $self set length 10</span><br><span class="line">    eval $self next $args</span><br><span class="line">&#125;</span><br><span class="line">% Box instproc destroy &#123;args&#125;&#123;</span><br><span class="line">    puts &quot;The instance is destroyed!&quot;</span><br><span class="line">    $self next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>OTcl支持类的多继承，唯一的要求是继承关系满足有向无环图。superclass用于声明继承。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Class Box</span><br><span class="line">Box instproc init&#123;&#125;&#123;    #定义类的初始函数</span><br><span class="line">    $self <span class="built_in">set</span> count0</span><br><span class="line">    $self next</span><br><span class="line">&#125;</span><br><span class="line">Box instproc Count&#123;&#125;&#123;   #定义类的成员函数Count</span><br><span class="line">    $self instvar count #重新声明变量count</span><br><span class="line">    incr count</span><br><span class="line">    $self next</span><br><span class="line">&#125;</span><br><span class="line">Safety instproc Count&#123;&#125;&#123;</span><br><span class="line">    $self instvar count</span><br><span class="line">    <span class="keyword">if</span>&#123;$count == <span class="number">0</span>&#125;&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;zero&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123; $count &#125;</span><br><span class="line">    $self next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Class redBox -superclass Box    #redBox继承于类Box</span><br><span class="line">redBox redBox1</span><br><span class="line"></span><br><span class="line">redBox instproc init &#123;args&#125;&#123;</span><br><span class="line">    $self <span class="built_in">set</span> toppings&#123;&#125;</span><br><span class="line">    eval $self next $args       #调用父类Box的初始化函数</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">% redBox1 <span class="built_in">set</span> count</span><br><span class="line"><span class="number">0</span></span><br><span class="line">% redBox1 Count                 #调用父类Count函数</span><br><span class="line">% redBox1 <span class="built_in">set</span> count</span><br><span class="line"><span class="number">1</span></span><br><span class="line">% redBox1 get</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/28/机器学习从零开始/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="皇叔">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我是你皇叔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/28/机器学习从零开始/" class="post-title-link" itemprop="url">机器学习从零开始</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-28 16:12:20 / 修改时间：16:12:22" itemprop="dateCreated datePublished" datetime="2019-05-28T16:12:20+08:00">2019-05-28</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/27/PIAS与原生ns2中tcp-cc文件之比对/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="皇叔">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我是你皇叔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/27/PIAS与原生ns2中tcp-cc文件之比对/" class="post-title-link" itemprop="url">PIAS与原生ns2中tcp.cc文件之比对</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-27 15:19:47 / 修改时间：22:05:36" itemprop="dateCreated datePublished" datetime="2019-05-27T15:19:47+08:00">2019-05-27</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="TcpAgent-TcpAgent-Agent-PT-TCP-类"><a href="#TcpAgent-TcpAgent-Agent-PT-TCP-类" class="headerlink" title="TcpAgent::TcpAgent():Agent(PT_TCP)类"></a>TcpAgent::TcpAgent():Agent(PT_TCP)类</h2>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/25/Python启动/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="皇叔">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我是你皇叔">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/25/Python启动/" class="post-title-link" itemprop="url">Python启动</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-25 14:21:22" itemprop="dateCreated datePublished" datetime="2019-05-25T14:21:22+08:00">2019-05-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-26 14:55:44" itemprop="dateModified" datetime="2019-05-26T14:55:44+08:00">2019-05-26</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#列表<br>在python中使用方括号来表示列表。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bicycles = [<span class="string">'treck'</span>,<span class="string">'cabbondale'</span>]</span><br><span class="line">print(bicycles[<span class="number">0</span>])</span><br></pre></td></tr></table></figure></p>
<p>使用[-1]可以访问列表最后一个元素<code>print(bicycles[-1])</code></p>
<p>##列表的修改<br><code>bicycles[0] = &#39;giant&#39;</code></p>
<p>##添加元素<br>append()方法添加元素至列表末尾；<br>insert()方法添加元素至指定位置。<br><code>bicycles.insert(1,bike)</code></p>
<p>##删除元素<br>del()方法删除元素；<br><code>del bicycles[0]</code><br>pop()方法删除元素并返回元素值；<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">last_ownd=bicycles.pop() //默认删除列表末尾的元素</span><br><span class="line">bicycles.pop(<span class="number">0</span>)          //删除指定位置的元素</span><br></pre></td></tr></table></figure></p>
<p>remove()根据元素值删除元素(仅删除第一个匹配的元素)；<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bicycles.remove(<span class="string">'treck'</span>)</span><br></pre></td></tr></table></figure></p>
<p>##组织列表<br>sort() 排序；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bicycles.sort()             //升序</span><br><span class="line">bicycles.sort(reverse=true) //降序</span><br></pre></td></tr></table></figure></p>
<p>reverse()反转列表元素排列<br>len()返回列表长度</p>
<p>##for循环遍历列表<br>使用for循环。python根据缩进来判断代码行与前一个代码行的关系。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> bicycle <span class="keyword">in</span> bicycles:</span><br><span class="line">    print(bicycle)</span><br></pre></td></tr></table></figure></p>
<p>##使用range()创建数字列表<br>range(A,B)方法生成从A到B-1的值<br>函数list()将range()的结果直接转化为列表<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numbers = list(range(<span class="number">1</span>,<span class="number">6</span>))  //numbers为数字<span class="number">1</span><span class="number">-5</span>的列表</span><br></pre></td></tr></table></figure></p>
<p>range()方法还能够指定步长如下，步长为2<br><code>range(1,10,2)</code><br>创建列表<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">squares = []</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">11</span>)</span><br><span class="line">    square = value**<span class="number">2</span></span><br><span class="line">    squares.append(square)</span><br></pre></td></tr></table></figure></p>
<p>##列表解析<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">squares = [value**<span class="number">2</span> <span class="keyword">for</span> value <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">11</span>)]</span><br></pre></td></tr></table></figure></p>
<p>##使用列表的一部分——切片<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bicycles = [<span class="string">'treck'</span>,<span class="string">'cabbondale'</span>,<span class="string">'giant'</span>]</span><br><span class="line">print(bicycles[<span class="number">0</span>:<span class="number">1</span>])</span><br><span class="line">print(bicycles[<span class="number">0</span>:])</span><br><span class="line">print(bicycles[:<span class="number">1</span>])</span><br><span class="line">print(bicycles[<span class="number">-3</span>:]) //最后三个</span><br></pre></td></tr></table></figure></p>
<p>##复制列表<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bicycles = [<span class="string">'treck'</span>,<span class="string">'cabbondale'</span>,<span class="string">'giant'</span>]</span><br><span class="line">my_bikes = bicycles[:]</span><br></pre></td></tr></table></figure></p>
<p>不可以直接写<code>my_bikes = bicycles</code>这样无法得到两个列表。</p>
<p>#选择结构<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a == b) <span class="keyword">and</span> (a != <span class="number">0</span>):</span><br><span class="line">    a=<span class="number">0</span></span><br><span class="line"><span class="keyword">elif</span> b!= <span class="number">0</span>:</span><br><span class="line">    b=<span class="number">0</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    a=b</span><br></pre></td></tr></table></figure></p>
<p>判断特定的值是否包含在列表中可使用关键字in，反之则使用not in。</p>
<p>#字典<br>一个简单的字典如下<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alien_0 = &#123;<span class="string">'color'</span>: <span class="string">'green'</span>,<span class="string">'points'</span>: <span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure></p>
<p>在Python中，字典是一系列的键值对，键值对之间用逗号分隔。<br>添加键-值对可以直接输入<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alien_0[<span class="string">'x_position'</span>]=<span class="number">0</span></span><br><span class="line">alien_0[<span class="string">'y_position'</span>]=<span class="number">25</span></span><br></pre></td></tr></table></figure></p>
<p>删除键值对<br><code>del alien_0[&#39;points&#39;]</code></p>
<p>##字典的遍历</p>
<ul>
<li><p>使用for循环遍历所有键值对,方法items()返回一个键值对列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for key,value in alien_0.items():</span><br><span class="line">  print(&quot;\nKey:&quot;+key)</span><br></pre></td></tr></table></figure>
</li>
<li><p>key()方法返回所有键的列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> alien_0.keys():</span><br><span class="line">  print(name.title())</span><br></pre></td></tr></table></figure>
</li>
<li><p>对遍历的结果进行排序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> sorted(alien_0.keys()):</span><br><span class="line">  print(name.title())</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>##字典嵌套<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aliens=[alien_0,alien_1,alien_2]</span><br></pre></td></tr></table></figure></p>
<p>#用户输入和while循环</p>
<p>##用户输入</p>
<ul>
<li>input()进行用户输入,该方法会将用户的输入解读为字符串<br><code>message=input(&quot;请输入文本&quot;)</code></li>
<li>使用int()方法可以获取数值输入<br>##while循环<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> message != <span class="string">'quit'</span>:</span><br><span class="line">    message = input()</span><br><span class="line">    print(message)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>break,continue的用法与c类似</p>
<p>#函数</p>
<p>##函数定义<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">abc</span><span class="params">(a)</span></span></span><br><span class="line"><span class="function">    <span class="title">print</span><span class="params">(<span class="string">"hello ,world"</span>+str<span class="params">(a)</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">return</span> <span class="title">a</span>+1</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">皇叔</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">16</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">皇叔</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
